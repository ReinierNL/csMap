!function(t){var o=function(o,e){this.options=e,this.$element=t(o).delegate('[data-dismiss="modal-popup"]',"click.dismiss.modal-popup",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".popover-content").load(this.options.remote),this.$parent=e.$parent};o.prototype=t.extend({},t.fn.modal.Constructor.prototype,{constructor:o,getPosition:function(){var o=this.$parent;return t.extend({},o.offset(),{width:o[0].offsetWidth,height:o[0].offsetHeight})},show:function(){var o=this.$element;o.css({top:0,left:0,display:"block","z-index":1050});var e,a="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,s=this.getPosition(),i=o[0].offsetWidth,n=o[0].offsetHeight;switch(a){case"bottom":e={top:s.top+s.height,left:s.left+s.width/2-i/2};break;case"top":e={top:s.top-n,left:s.left+s.width/2-i/2};break;case"left":e={top:s.top+s.height/2-n/2,left:s.left-i};break;case"right":e={top:s.top+s.height/2-n/2,left:s.left+s.width}}o.css(e).addClass(a).addClass("in"),t.fn.modal.Constructor.prototype.show.call(this,arguments)},backdrop:function(o){var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=t.support.transition&&e;this.$backdrop=t('<div class="modal-backdrop '+e+'" style="background:none" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(t.proxy(this.hide,this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),a?this.$backdrop.one(t.support.transition.end,o):o()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,t.proxy(this.removeBackdrop,this)):this.removeBackdrop()):o&&o()}}),t.fn.modalPopover=function(e){return this.each(function(){var a=t(this),s=a.data("modal-popover"),i=t.extend({},t.fn.modalPopover.defaults,a.data(),"object"==typeof e&&e);i.$parent=s&&s.$parent||e.$parent||t(i.target),s||a.data("modal-popover",s=new o(this,i)),"string"==typeof e&&s[e]()})},t.fn.modalPopover.Constructor=o,t.fn.modalPopover.defaults=t.extend({},t.fn.modal.defaults,{placement:"right",keyboard:!0}),t(function(){t("body").on("click.modal-popover.data-api",'[data-toggle="modal-popover"]',function(o){var e=t(this),a=e.attr("href"),s=t(e.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),i=s.data("modal-popover")?"toggle":t.extend({remote:!/#/.test(a)&&a},s.data(),e.data());i.$parent=e,o.preventDefault(),s.modalPopover(i).modalPopover("show").one("hide",function(){e.focus()})})})}(window.jQuery);