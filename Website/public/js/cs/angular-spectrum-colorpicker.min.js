/*! angular-spectrum-colorpicker v1.3.0 */
!function(a){"use strict";var b=a.module("angularSpectrumColorpicker",[]);!function(){b.directive("spectrumColorpicker",function(){return{restrict:"E",require:"ngModel",scope:{fallbackValue:"=",format:"=?",options:"=?",triggerId:"@?",onChange:"&?",onShow:"&?",onHide:"&?",onMove:"&?",onBeforeShow:"&?"},replace:!0,templateUrl:"directive.html",link:function(b,c,d,e){function f(a){var c=a;return c&&(c=a.toString(b.format)),c}function g(c){a.isFunction(b.onChange)&&b.onChange({color:c})}function h(c){var d=b.fallbackValue;c?d=f(c):a.isUndefined(b.fallbackValue)&&(d=c),e.$setViewValue(d),g(d)}function i(){return a.element(document.body).find("#"+b.triggerId)}var j=c.find("input"),k=function(a){b.$apply(function(){h(a)})},l=function(){return j.spectrum("toggle"),!1},m={color:e.$viewValue},n={};a.forEach({change:"onChange",move:"onMove",hide:"onHide",show:"onShow"},function(c,d){n[d]=function(d){return k(d),"change"!==c&&a.isFunction(b[c])?b[c]({color:f(d)}):void 0}}),a.isFunction(b.onBeforeShow)&&(n.beforeShow=function(a){return b.onBeforeShow({color:f(a)})});var o=a.extend({},m,b.options,n);b.triggerId&&i().on("click",l),e.$render=function(){j.spectrum("set",e.$viewValue||""),g(e.$viewValue)},o.color&&(j.spectrum("set",o.color||""),h(o.color)),j.spectrum(o),b.$on("$destroy",function(){b.triggerId&&i().off("click",l),j.spectrum("destroy")})}}})}(),a.module("angularSpectrumColorpicker").run(["$templateCache",function(a){a.put("directive.html","<span><input class=input-small></span>")}])}(window.angular);